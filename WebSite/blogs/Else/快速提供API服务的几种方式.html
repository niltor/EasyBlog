<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="快速提供API服务的几种方式" />
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/markdown.css">
    <link rel="icon" type="image/png" href="/favicon.ico" />
    <script src="/js/markdown.js"></script>
    <title>快速提供API服务的几种方式-独思</title>
    
</head>
<body class="px-4 sm:px-6 lg:px-8 dark:bg-neutral-900 pb-4">
    <div class="container mx-auto flex mt-2" style="margin-bottom: 48px;">
        <div class="w-1/4 max-sm:hidden sm:block text-right pr-4 mt-3">
        <div class="mt-1 sticky top-2">
  <span class="text">
    last update 
  </span>
  <br>
  <small>2025-03-10 15:41</small>
</div>
        </div>
        <div class="sm:w-3/4 sm:pr-4 w-full markdown-content">
        <h1 id="快速提供api服务的几种方式">快速提供API服务的几种方式</h1>
<p>正常情况下，开发人员会根据实际需求，提供API服务，将需要的数据提供给使用方。这样的好处是，可以更加细致的控制数据的返回，以及更灵活的数据权限的控制。</p>
<p>在某些场景下，更关注的是数据的可获得性。实际的需求可能多种多样，如果针对每个需求，都提供单独的API，那么API的数据会显著增加，开发和维护成本也会增加。一种方式是通过良好的API设计，提供更多的筛选条件来合并相似数据获取的需求。另一种方式，是将筛选和查询的能力提供给使用方，让使用方自行决定需要的数据，比如<code>GraphQL</code>和<code>OData</code>，或者使用其他的工具，如<code>data-api-builder</code>，直接生成API服务，来提供数据。</p>
<p>这类方法，能够快速的提供数据获取的能力，但在面对复杂的查询和更细致的数据控制时，可能无法满足需求。</p>
<p>我们将介绍和对比一下这几种方式，以及它们的优缺点。</p>
<p>下面是对 GraphQL、OData 和 Data API Builder 三种技术/工具的介绍和对比：</p>
<hr />
<h3 id="graphql">GraphQL</h3>
<ul>
<li><p><strong>概述</strong><br />
GraphQL 是由 Facebook 提出的 API 查询语言，它允许客户端精确指定所需数据，避免了传统 REST API 中可能出现的数据过多或不足的问题。GraphQL 采用强类型模式，通过单一端点支持嵌套查询、聚合以及订阅（实时更新）等功能。</p>
</li>
<li><p><strong>优点</strong></p>
<ul>
<li><strong>灵活性高</strong>：客户端可以按需查询数据，无论数据结构如何变化，都只取实际需要的部分。</li>
<li><strong>避免数据过载</strong>：解决了 REST 中“过度获取”或“获取不足”的问题。</li>
<li><strong>统一接口</strong>：单一端点统一处理各类查询和修改请求，便于版本迭代。</li>
</ul>
</li>
<li><p><strong>适用场景</strong></p>
<ul>
<li><strong>需要灵活的数据</strong>：当前端（如移动应用或接口请求）需要灵活、细粒度的数据时。</li>
<li><strong>数据结构频繁变化的系统</strong>：能够快速适应数据需求的变动。</li>
</ul>
</li>
</ul>
<hr />
<h3 id="odata">OData</h3>
<ul>
<li><p><strong>概述</strong><br />
OData（Open Data Protocol）是一个开放标准，用于构建和消费 RESTful API。它通过标准化的查询参数（如 <code>$filter</code>、<code>$select</code>、<code>$expand</code> 等）为客户端提供一致的数据访问方式，特别适合数据驱动型的企业应用。</p>
</li>
<li><p><strong>优点</strong></p>
<ul>
<li><strong>标准化</strong>：基于 HTTP 标准，具备较好的互操作性和成熟的工具链。</li>
<li><strong>内置查询功能</strong>：通过标准化的 URL 参数支持排序、过滤、分页等操作。</li>
<li><strong>适合企业应用</strong>：尤其在 Microsoft 生态中应用广泛，易于与现有系统集成。</li>
</ul>
</li>
<li><p><strong>适用场景</strong></p>
<ul>
<li><strong>数据导向型业务</strong>：如ERP、CRM系统中需要统一数据访问和管理。</li>
<li><strong>Microsoft 生态</strong>：与 SQL Server、SharePoint 等产品高度集成的场景。</li>
</ul>
</li>
</ul>
<hr />
<h3 id="data-api-builder">Data API Builder</h3>
<ul>
<li><p><strong>概述</strong><br />
Data API Builder（通常由 Microsoft 提供）是一款低代码工具，它能自动为关系型或 NoSQL 数据库生成 RESTful API 接口。它内置对 OData 查询参数的支持，同时集成了安全（例如基于角色的访问控制）和自定义扩展功能。</p>
</li>
<li><p><strong>优点</strong></p>
<ul>
<li><strong>快速生成 API</strong>：无需编写大量代码，即可将数据库快速暴露为 API 接口。</li>
<li><strong>低配置、易上手</strong>：适合希望快速搭建原型或简单 API 层的场景。</li>
<li><strong>内置安全和扩展</strong>：支持配置权限、数据过滤等企业级需求。</li>
</ul>
</li>
<li><p><strong>适用场景</strong></p>
<ul>
<li><strong>快速原型开发</strong>：当项目需要迅速构建 API 层，并希望减少开发工作量时。</li>
<li><strong>自动化数据服务</strong>：适用于内部数据服务或简单的 CRUD 接口，特别是在 Azure 等云平台环境下。</li>
</ul>
</li>
</ul>
<hr />
<h3 id="对比与总结">对比与总结</h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>GraphQL</th>
<th>OData</th>
<th>Data API Builder</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>查询方式</strong></td>
<td>灵活的查询语言，支持嵌套、聚合、订阅</td>
<td>基于 REST，利用标准 URL 查询参数</td>
<td>自动生成 RESTful 接口，可支持 OData 查询</td>
</tr>
<tr>
<td><strong>灵活性</strong></td>
<td>客户端按需定制查询，灵活度高</td>
<td>标准化但相对固定，适合数据驱动场景</td>
<td>快速、自动化，适合快速搭建简单 API</td>
</tr>
<tr>
<td><strong>开发门槛</strong></td>
<td>需要学习 GraphQL 规范及相关工具</td>
<td>遵循 REST 标准，门槛较低</td>
<td>低代码工具，配置简单易用</td>
</tr>
<tr>
<td><strong>生态与集成</strong></td>
<td>独立于平台，可与各种前端和后端集成</td>
<td>适合 Microsoft 生态及企业应用</td>
<td>主要用于快速将数据库数据暴露为 API</td>
</tr>
</tbody>
</table>
<p>当有复杂查询逻辑时，比如联表查询时，</p>
<ul>
<li>GraphQL resolvers 可以实现复杂的查询逻辑，但需要编写自定义代码。</li>
<li>OData 可以通过 <code>$expand</code> 参数实现联表查询，但需要在后端实现相应的逻辑。</li>
<li>Data API Builder 可以通过配置来实现简单的联表查询，但对于复杂逻辑可能需要编写自定义代码。</li>
</ul>

        </div>
        <div class="w-1/4 mt-1 max-sm:hidden sm:flex">
            
        </div>
    </div>
    <div class="footer py-2 bottom-0 w-full fixed">
      <div class="container mx-auto text-center">
        <p class="text-neutral-600 dark:text-neutral-300 mb-0">
        独思
        <a class="text-blue-600" target="_blank" href="https://github.com/AterDev/EasyBlog">Powered by EasyDocs</a>
        </p>
      </div>
    </div>
</body>
</html>