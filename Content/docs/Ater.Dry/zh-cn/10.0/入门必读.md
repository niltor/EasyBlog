# 入门必读

本篇内容介绍Ater.Dry.Copilot是什么，它的作用和目的是什么，你是否需要它，以帮助你快速做出决策。

## Ater.Dry.Copilot是什么？

从技术角度来讲，它就是一个`dotnet tool`工具，通过`nuget`包管理器进行分发。

从功能角度来讲，它提供了：

- 解决方案模板：提供完整的解决方案模板，包含了所有必要的项目和配置，在此基础上快速完成业务开发。
- 几个简单的命令：用来启动WebUI、MCP Server、以及生成代码。
- WebUI：提供了一个Web界面，以便用户可以通过UI来管理和使用Ater.Dry.Copilot的所有功能。
- MCP Server：提供了一个MCP Server，以便用户可以在IDE中充分使用AI能力来生成代码。

简单来说，在提供一个解决方案模板的基础上，通过代码生成的方式，帮助用户快速完成业务开发。

## Ater.Dry.Copilot的作用和目的是什么？

简单来说，它的作用是解决在开发过程中的几个痛点：

- 每个项目从零开始，需要花费大量时间和精力来配置和搭建基础设施。
- 在一个良好的架构基础上，对于常见的业务和接口实现(如CURD操作)，有很多相似且重复性的工作。
- 客户端与服务端的对接，需要花费大量的沟通时间和精力来保持一致性。
- 缺乏规范的代码结构和规范，导致代码越写越乱，难以维护和扩展。

在此基础上，还提供自定义代码生成功能，以及提供MCP Server，直接在IDE中使用自然语言方式生成代码。

它的目的，是为了提供一套基础框架和工具，帮助开发者快速开发后台服务和前端应用，主要目标：

- 提高开发体验 (对自己好一些)
- 加快开发速度 (对公司好一些)
- 编写易维护的代码 (对他人好一些)

最终的效果是：**开发者用的舒心，代码写的开心，业务得以快速实现，降低成本和风险。**

## 你是否需要Ater.Dry.Copilot？

虽然我们尽可能使用主流和通用的技术来解决大部分问题，但仍然有一些特定的场景和需求，可能不适合使用Ater.Dry.Copilot。

如果你是以下情况之一，Ater.Dry.Copilot目前可能无法满足你的需求：

- 需要使用Minimal API或AOT。
- 不接受使用Entity Framework Core作为ORM。
- 一定要使用某种设计模式(TDD/DDD等)的。

> [!NOTE]
> 项目模板本身只是一个ASP.NET Core Web Api项目，本质上并不限制使用任何库，但是代码生成功能，数据库查询是基于`Entity Framework Core`，接口是基于`Controller`，如果这两个条件不满足，那么内置的代码生成功能将不适用。

## 核心思想

在面向对象的编程中，我们对现实或抽象事物进行建模，通过编写类和接口来定义事物，以及这些事务之间的关系。无论是业务逻辑还是数据访问，无论是后端服务还是前端应用，都是围绕着这些事务展开的。

### 以实体为核心

所以实体的定义是我们开发的中心和起点，逐渐扩展到代码的各个方面。

而我们的代码生成功能，就是使用`Roslyn`来分析和理解这些实体，然后生成其他的代码，如Dto的定义，数据库的查询，接口服务的定义等。

在前后端交互以及服务之间的通信中，`OpenAPI`提供了描述这些接口的能力，可以通过它生成各种语言的客户端代码。

这意味着，我最初始在实体中定义的名称，注释及其他特性等信息，应该能够贯穿到整个代码生成的过程中，从而保持一致性，避免重复和错误。

### 简化开发模型

我们将后端的编程过程概括为以下几个步骤：

- 定义：如实体和Dto的定义
- 实现：业务逻辑实现，如数据库/缓存/消息队列/第三方服务等等跟业务相关的内容。
- 接口：指定义RESTful API，通过OpenAPI等工具与其他客户端或服务保持一致。

Entity->Manager->Controller